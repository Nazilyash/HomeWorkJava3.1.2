# **Цикломатическая сложность**

JaCoCo вычисляет цикломатическую сложность для каждого неабстрактного метода и суммирует сложность для классов, пакетов и групп.

**Цикломатическая сложность** - согласно определению Томаса Дж.Маккейба,  это минимальное число путей, которые могут в (линейной) комбинации генерировать все возможные пути через метод, т.е. количество линейно независимых маршрутов.


### 1. **Формула вычисления количества unit-тестов на основании значений, генерируемых JaCoCo**

Цикломатическая сложность имеет два свойства для конкретного модуля:

— оценка сверху для количества тестов, обеспечивающих покрытие условий (точек ветвления, точек принятия решения);

— оценка снизу для количества маршрутов через граф потока управления и, таким образом, количества тестов для полного покрытия путей.

Значение сложности может служить показателем количества unit-тестов для полного охвата определенной части программного кода - **число необходимых тестов равно цикломатической сложности программы v(G)**. 

JaCoCo вычисляет цикломатическую сложность метода (v(G)) следующим уравнением, основанным на количестве ветвей (B) и количестве точек принятия решения (D):

**v(G) = B - D + 1**

Основываясь на покрытии каждой ветви, JaCoCo вычисляет покрытую и пропущенную сложность для каждого метода. Пропущенная сложность является показателем количества тест-кейсов, недостающих для полного покрытия модуля.

### 2. **Рекомендуемый порог цикломатической сложности кода**

Одно из применений цикломатической сложности - **ограничение сложности программ во время их разработки**: вычислять сложность разрабатываемых модулей и разделять модули на более мелкие всякий раз, когда цикломатическая сложность этих модулей превысит **десять**. 

В некоторых случаях можно ослабить ограничение и разрешить модули со сложностью до 15 при письменном обосновании причины для выхода за рамки согласованного лимита. 